"use strict";(self.webpackChunkZmitaCart=self.webpackChunkZmitaCart||[]).push([[576],{7576:(he,b,s)=>{s.r(b),s.d(b,{OfferSingleComponent:()=>me});var p=s(4755),C=s(4004),R=s(3900),u=s(8505),x=s(8467),h=s(7185),P=s(4854),e=s(2223);let q=(()=>{class o{constructor(){this.details=void 0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["pp-offer-description"]],inputs:{details:"details"},standalone:!0,features:[e.jDz],decls:20,vars:7,consts:[[1,"container"],[1,"title"],[1,"line"],[1,"info"],[1,"grey"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"O przedmiocie"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e._UZ(5,"div",2),e.TgZ(6,"div",3)(7,"p")(8,"span",4),e._uU(9,"Stan: "),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"p")(12,"span",4),e._uU(13,"Data utworzenia: "),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"p")(17,"span",4),e._uU(18,"Id oferty: "),e.qZA(),e._uU(19),e.qZA()()()),2&t&&(e.xp6(4),e.Oqu(i.details.description),e.xp6(6),e.Oqu(i.details.condition),e.xp6(4),e.Oqu(e.xi3(15,4,i.details.createdAt,"dd.MM.yyyy, HH:mm")),e.xp6(5),e.Oqu(i.details.id))},dependencies:[p.ez,p.uU],styles:[".title[_ngcontent-%COMP%]{font-size:var(--font-m);line-height:var(--lineHeight-l);font-weight:600}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-s)}.line[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #ddd;margin-block:18px 6px}.grey[_ngcontent-%COMP%]{color:#767676;line-height:var(--lineHeight-s)}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-xxs)}"],changeDetection:0}),o})();var f=s(430);let D=(()=>{class o{transform(t){const{city:i,street:a,houseNumber:r,apartmentNumber:d}=t;let l="";return i&&(l+=i),a&&(l+=", ul."+a),r&&(l+=" "+String(r)),d&&(l+="/"+String(d)),l}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"ppAddress",type:o,pure:!0,standalone:!0}),o})(),I=(()=>{class o{constructor(){this.details=void 0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["pp-offer-seller"]],inputs:{details:"details"},standalone:!0,features:[e.jDz],decls:17,vars:6,consts:[[1,"container"],[1,"info"],[1,"fix"],[1,"icon","material-icons-outlined"],[1,"line"],[1,"city"],[1,"text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),e._uU(4,"account_circle"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"div",2)(7,"mat-icon",3),e._uU(8,"call"),e.qZA(),e._uU(9),e.qZA()(),e._UZ(10,"div",4),e.TgZ(11,"div",5)(12,"mat-icon",3),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",6),e._uU(15),e.ALo(16,"ppAddress"),e.qZA()()()),2&t&&(e.xp6(5),e.AsE(" Sprzedaje ",i.details.user.firstName," (",i.details.user.email,") "),e.xp6(4),e.hij(" ",i.details.user.phoneNumber||"-"," "),e.xp6(6),e.hij(" ",e.lcZ(16,4,i.details.address)||"-"," "))},dependencies:[p.ez,f.Ps,f.Hw,D],styles:[".icon[_ngcontent-%COMP%]{color:gray}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-xs);font-size:var(--font-m);font-weight:600;width:50%}.container[_ngcontent-%COMP%]{display:flex}.line[_ngcontent-%COMP%]{border-right:1px solid #ddd;margin-right:16px}.city[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-xs)}.city[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--color-allegro-purple)}.city[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-weight:600}.fix[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--gap-xs)}"],changeDetection:0}),o})();var E=s(3913),T=s(1728),g=s(5525),z=s(7579),_=s(1135),y=s(2722),M=s(9300),v=s(5861);let m={};class N{constructor(n){var t=this;this.handleClick=function(){var i=(0,v.Z)(function*(a){const r=t.config;if(!r)throw new Error("google-pay-button: Missing configuration");const d=t.createLoadPaymentDataRequest(r);try{if(r.onClick&&r.onClick(a),a.defaultPrevented)return;const l=yield t.client.loadPaymentData(d);r.onLoadPaymentData&&r.onLoadPaymentData(l)}catch(l){"CANCELED"===l.statusCode?r.onCancel&&r.onCancel(l):r.onError?r.onError(l):console.error(l)}});return function(a){return i.apply(this,arguments)}}(),this.options=n}getElement(){return this.element}isGooglePayLoaded(){return"google"in(window||global)&&!!google?.payments?.api?.PaymentsClient}mount(n){var t=this;return(0,v.Z)(function*(){if(!t.isGooglePayLoaded())try{yield function k(o){const n=m[o];if(n)return n;const t=new Promise((i,a)=>{const r=document.createElement("script");r.src=o,r.async=!0;const d=()=>{i()},l=()=>{(function c(){r.removeEventListener("load",d),r.removeEventListener("error",l)})(),delete m[o],r.remove(),a(new Error(`Unable to load script ${o}`))};r.addEventListener("load",d),r.addEventListener("error",l),document.body.appendChild(r)});return m[o]=t,t}("https://pay.google.com/gp/p/js/pay.js")}catch(i){return void(t.config?.onError?t.config.onError(i):console.error(i))}t.element=n,n&&(t.appendStyles(),t.config&&t.updateElement())})()}unmount(){this.element=void 0}configure(n){let t;return this.config=n,(!this.oldInvalidationValues||this.isClientInvalidated(n))&&(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(n),t??Promise.resolve()}createClientOptions(n){const t={environment:n.environment,merchantInfo:this.createMerchantInfo(n)};return(n.onPaymentDataChanged||n.onPaymentAuthorized)&&(t.paymentDataCallbacks={},n.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=i=>n.onPaymentDataChanged(i)||{}),n.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=i=>n.onPaymentAuthorized(i)||{})),t}createIsReadyToPayRequest(n){const t=n.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:n.existingPaymentMethodRequired}}createLoadPaymentDataRequest(n){return{...n.paymentRequest,merchantInfo:this.createMerchantInfo(n)}}createMerchantInfo(n){const t={...n.paymentRequest.merchantInfo};return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const n of Array.from(this.element.children))"STYLE"!==n.tagName&&n.remove()}updateElement(){var n=this;return(0,v.Z)(function*(){if(!n.isMounted())return;const t=n.getElement();if(!n.config)throw new Error("google-pay-button: Missing configuration");n.removeButton();try{n.client=new google.payments.api.PaymentsClient(n.createClientOptions(n.config))}catch(c){return void(n.config.onError?n.config.onError(c):console.error(c))}const i={buttonType:n.config.buttonType,buttonColor:n.config.buttonColor,buttonSizeMode:n.config.buttonSizeMode,buttonLocale:n.config.buttonLocale,onClick:n.handleClick,allowedPaymentMethods:n.config.paymentRequest.allowedPaymentMethods},a=t.getRootNode();a instanceof ShadowRoot&&(i.buttonRootNode=a);const r=n.client.createButton(i);n.setClassName(t,[t.className,"not-ready"]),t.appendChild(r);let l,d=!1;try{l=yield n.client.isReadyToPay(n.createIsReadyToPayRequest(n.config)),d=l.result&&!n.config.existingPaymentMethodRequired||l.result&&l.paymentMethodPresent&&n.config.existingPaymentMethodRequired||!1}catch(c){n.config.onError?n.config.onError(c):console.error(c)}if(n.isMounted()){if(d){try{n.client.prefetchPaymentData(n.createLoadPaymentDataRequest(n.config))}catch(c){console.log("Error with prefetch",c)}n.setClassName(t,(t.className||"").split(" ").filter(c=>c&&"not-ready"!==c))}if((n.isReadyToPay!==l?.result||n.paymentMethodPresent!==l?.paymentMethodPresent)&&(n.isReadyToPay=!!l?.result,n.paymentMethodPresent=l?.paymentMethodPresent,n.config.onReadyToPayChange)){const c={isButtonVisible:d,isReadyToPay:n.isReadyToPay};n.paymentMethodPresent&&(c.paymentMethodPresent=n.paymentMethodPresent),n.config.onReadyToPayChange(c)}}})()}setClassName(n,t){const i=t.filter(a=>a).join(" ");i?n.className=i:n.removeAttribute("class")}appendStyles(){if(typeof document>"u")return;const n=this.element?.getRootNode(),t=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${this.config?.buttonLocale}`;if(n&&!n.getElementById?.(t)){const i=document.createElement("style");i.id=t,i.type="text/css",i.innerHTML=`\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `,n instanceof Document&&n.head?n.head.appendChild(i):n.appendChild(i)}}isClientInvalidated(n){return!this.oldInvalidationValues||this.getInvalidationValues(n).some((i,a)=>i!==this.oldInvalidationValues[a])}getInvalidationValues(n){return[n.environment,n.existingPaymentMethodRequired,!!n.onPaymentDataChanged,!!n.onPaymentAuthorized,n.buttonColor,n.buttonType,n.buttonLocale,n.buttonSizeMode,n.paymentRequest.merchantInfo.merchantId,n.paymentRequest.merchantInfo.merchantName,n.paymentRequest.merchantInfo.softwareInfo?.id,n.paymentRequest.merchantInfo.softwareInfo?.version,n.paymentRequest.allowedPaymentMethods]}}let K=(()=>{class o{constructor(t){this.elementRef=t,this.manager=new N({cssSelector:"google-pay-button",softwareInfoId:"@google-pay/button-angular",softwareInfoVersion:"3.0.9"}),this.initializeButton=function X(o,n=0){let t;return function(...i){return window.clearTimeout(t),new Promise(r=>{t=window.setTimeout(()=>{const d=(t=void 0,o(...i));r(d)},n)})}}(()=>{this.assertRequiredProperty("paymentRequest")&&this.assertRequiredProperty("environment")&&this.manager.configure({paymentRequest:this.paymentRequest,environment:this.environment,existingPaymentMethodRequired:this.existingPaymentMethodRequired,onPaymentDataChanged:this.paymentDataChangedCallback,onPaymentAuthorized:this.paymentAuthorizedCallback,buttonColor:this.buttonColor,buttonType:this.buttonType,buttonSizeMode:this.buttonSizeMode,buttonLocale:this.buttonLocale,onReadyToPayChange:a=>{this.readyToPayChangeCallback&&this.readyToPayChangeCallback(a),this.dispatch("readytopaychange",a)},onCancel:a=>{this.cancelCallback&&this.cancelCallback(a),this.dispatch("cancel",a)},onError:a=>{this.errorCallback&&this.errorCallback?.(a),this.elementRef.nativeElement.dispatchEvent(new ErrorEvent("error",{error:a}))},onLoadPaymentData:a=>{this.loadPaymentDataCallback&&this.loadPaymentDataCallback(a),this.dispatch("loadpaymentdata",a)},onClick:a=>{this.clickCallback&&this.clickCallback?.(a)}})})}get isReadyToPay(){return this.manager.isReadyToPay}ngOnInit(){return this.manager.mount(this.elementRef.nativeElement)}ngOnChanges(){return this.initializeButton()}assertRequiredProperty(t){return null!=this[t]||(this.throwError(Error(`Required property not set: ${t}`)),!1)}throwError(t){throw t}dispatch(t,i){this.elementRef.nativeElement.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!1,detail:i}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275dir=e.lG2({type:o,selectors:[["google-pay-button"]],inputs:{paymentRequest:"paymentRequest",environment:"environment",existingPaymentMethodRequired:"existingPaymentMethodRequired",buttonColor:"buttonColor",buttonType:"buttonType",buttonSizeMode:"buttonSizeMode",buttonLocale:"buttonLocale",paymentDataChangedCallback:"paymentDataChangedCallback",paymentAuthorizedCallback:"paymentAuthorizedCallback",readyToPayChangeCallback:"readyToPayChangeCallback",loadPaymentDataCallback:"loadPaymentDataCallback",cancelCallback:"cancelCallback",errorCallback:"errorCallback",clickCallback:"clickCallback"},features:[e.TTD]}),o})(),W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();var A=s(452),S=s(7282),ee=s(5691),w=s(3431),te=s(1098),ne=s(3573);function oe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.add(-1))}),e.TgZ(2,"mat-icon",12),e._uU(3,"remove"),e.qZA()(),e.TgZ(4,"span",13),e._uU(5),e.qZA(),e.TgZ(6,"button",11),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.add(1))}),e.TgZ(7,"mat-icon",12),e._uU(8,"add"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.currentQuantity<=1),e.xp6(4),e.Oqu(t.currentQuantity),e.xp6(1),e.Q6J("disabled",t.currentQuantity>=t.details.quantity)}}function ie(o,n){if(1&o&&(e.TgZ(0,"div",8)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,oe,9,3,"div",9),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij("dost\u0119pne: ",t.details.quantity," szt."),e.xp6(1),e.Q6J("ngIf",t.userLogged)}}function ae(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"google-pay-button",14),e.NdJ("loadpaymentdata",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onLoadPaymentData())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("paymentRequest",t.paymentRequest)}}let re=(()=>{class o{constructor(t,i,a,r,d,l,c){this.sharedService=void 0,this.userService=void 0,this.router=void 0,this.routingService=void 0,this.ref=void 0,this.offerSingleService=void 0,this.toastMessageService=void 0,this.details=void 0,this.onDestroy$=new z.x,this.currentQuantity=1,this.currentQuantity$=new _.X(1),this.paymentRequest=void 0,this.userLogged=!1,this.sharedService=t,this.userService=i,this.router=a,this.routingService=r,this.ref=d,this.offerSingleService=l,this.toastMessageService=c}ngOnInit(){this.userLogged=this.userService.isAuthenticated(),this.paymentRequest={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["VISA","MASTERCARD"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:String(this.details.user.id),merchantName:`${this.details.user.firstName} ${this.details.user.lastName}`},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Cena",totalPrice:"0",currencyCode:"PLN",countryCode:"PL"}},this.currentQuantity$.asObservable().pipe((0,y.R)(this.onDestroy$)).subscribe(t=>{this.paymentRequest={...this.paymentRequest,transactionInfo:{...this.paymentRequest.transactionInfo,totalPrice:String(t*this.details.price)}}})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}observe(){this.userService.isAuthenticated()?this.sharedService.addToFavourites(this.details.id,this.details.isFavourite).pipe((0,M.h)(t=>!!t),(0,u.b)(()=>this.details.isFavourite=!this.details.isFavourite),(0,u.b)(()=>this.ref.detectChanges()),(0,y.R)(this.onDestroy$)).subscribe():this.router.navigateByUrl(`${g.G.AUTHENTICATION}/${g.G.LOGIN}`)}add(t){this.currentQuantity+=t,this.currentQuantity$.next(this.currentQuantity)}navigateTo(t){this.routingService.navigateTo(`${g.G.HOME}/${g.G.ACCOUNT}`,t,{paramName:"id",value:this.details.id})}onLoadPaymentData(){this.offerSingleService.buy(this.details.id,this.currentQuantity).pipe((0,M.h)(t=>!!t),(0,u.b)(()=>this.toastMessageService.notifyOfSuccess(`Kupiono ${this.details.title}`)),(0,u.b)(()=>this.details={...this.details,quantity:this.details.quantity-this.currentQuantity}),(0,u.b)(()=>{this.currentQuantity=1,this.currentQuantity$.next(1)}),(0,u.b)(()=>{this.details.quantity<=0&&this.routingService.navigateTo("/")}),(0,u.b)(()=>this.ref.detectChanges()),(0,y.R)(this.onDestroy$)).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.F),e.Y36(ee.K),e.Y36(w.F0),e.Y36(te.Z),e.Y36(e.sBO),e.Y36(A.l),e.Y36(ne.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["pp-offer-price"]],inputs:{details:"details"},standalone:!0,features:[e._Bn([A.l]),e.jDz],decls:13,vars:8,consts:[[1,"title"],[1,"text"],[1,"observe-svg","cursor-pointer",3,"click"],[3,"svgIcon"],["class","quantity",4,"ngIf"],[1,"price"],[1,"zl"],["class","buy","environment","TEST","buttonSizeMode","fill","buttonColor","white",3,"paymentRequest","loadpaymentdata",4,"ngIf"],[1,"quantity"],["class","buttons",4,"ngIf"],[1,"buttons"],["mat-icon-button","",3,"disabled","click"],[1,"amount-button"],[1,"amount-number"],["environment","TEST","buttonSizeMode","fill","buttonColor","white",1,"buy",3,"paymentRequest","loadpaymentdata"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.NdJ("click",function(){return i.observe()}),e._uU(4),e._UZ(5,"mat-icon",3),e.qZA()(),e.YNc(6,ie,4,2,"div",4),e.TgZ(7,"div",5),e._uU(8),e.ALo(9,"ppFixPrice"),e.TgZ(10,"span",6),e._uU(11," z\u0142"),e.qZA()(),e.YNc(12,ae,1,1,"google-pay-button",7)),2&t&&(e.xp6(2),e.Oqu(i.details.title),e.xp6(2),e.hij(" ",i.details.isFavourite?"OBSERWUJESZ":"OBSERWUJ"," "),e.xp6(1),e.Q6J("svgIcon",i.details.isFavourite?"heart-filled":"heart"),e.xp6(1),e.Q6J("ngIf",i.details.quantity>1),e.xp6(2),e.hij(" ",e.lcZ(9,6,i.details.price)||"-",""),e.xp6(4),e.Q6J("ngIf",i.details.isAvailable&&i.userLogged))},dependencies:[p.ez,p.O5,f.Ps,f.Hw,E.Y,T.ot,T.RK,W,K],styles:["pp-offer-price{display:flex;flex-direction:column}pp-offer-price .price{font-size:var(--font-xl);line-height:var(--lineHeight-xl);font-weight:600;padding-bottom:4px}pp-offer-price .price .zl{font-size:var(--font-l);line-height:var(--lineHeight-l);font-weight:600}pp-offer-price .buy{margin-bottom:12px;margin-top:4px}pp-offer-price .chat{display:flex;align-items:center;justify-content:center;border:1px solid var(--color-allegro-purple);color:var(--color-allegro-purple);gap:var(--gap-xs)}pp-offer-price .chat-icon{transform:scaleX(-1);filter:brightness(0) saturate(100%) invert(31%) sepia(82%) saturate(752%) hue-rotate(215deg) brightness(91%) contrast(79%)}pp-offer-price .top{display:flex;flex-direction:column;gap:var(--gap-xs)}pp-offer-price .title{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}pp-offer-price .title .text{font-size:var(--font-m);line-height:var(--lineHeight-l);font-weight:600}pp-offer-price .quantity{font-size:var(--font-xs);line-height:var(--lineHeight-s);color:#767676;min-height:48px;display:flex;justify-content:space-between;align-items:center}pp-offer-price .buttons{display:flex;align-items:center}pp-offer-price .amount-number{font-weight:700}pp-offer-price .amount-button{background-color:#eee;border-radius:30px}pp-offer-price .mat-mdc-icon-button{--mat-mdc-button-persistent-ripple-color: transparent;--mat-mdc-button-ripple-color: transparent}\n"],encapsulation:2,changeDetection:0}),o})(),se=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["pp-offer-delivery"]],standalone:!0,features:[e.jDz],decls:12,vars:0,consts:[[1,"delivery"],[1,"space"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0),e._uU(1,"Dostawa"),e.qZA(),e.TgZ(2,"div",1)(3,"span"),e._uU(4,"Arregro Paczkomaty OutPost"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"9,99 z\u0142 (dyszku)"),e.qZA()(),e.TgZ(7,"div",1)(8,"span"),e._uU(9,"Przesy\u0142ka kurierska - przedp\u0142ata"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"30,00 z\u0142"),e.qZA()())},dependencies:[p.ez],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--gap-xs)}.delivery[_ngcontent-%COMP%]{font-size:var(--font-m);line-height:var(--lineHeight-l);font-weight:600}.space[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0}),o})();var le=s(542),ce=s(1013);function de(o,n){if(1&o&&e._UZ(0,"gallery",11),2&o){const t=e.oxw(2);e.Q6J("items",t.images)("counter",!1)}}function pe(o,n){1&o&&(e.TgZ(0,"div",12),e._UZ(1,"img",13),e.qZA())}function ue(o,n){if(1&o&&e._UZ(0,"pp-offer-price",8)(1,"pp-offer-delivery",14),2&o){const t=e.oxw().ngIf;e.Q6J("details",t)}}function fe(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",2)(2,"div",3),e.YNc(3,de,1,2,"gallery",4),e.YNc(4,pe,2,0,"div",5),e.TgZ(5,"div",6),e.GkF(6,7),e.qZA(),e._UZ(7,"pp-offer-description",8)(8,"pp-offer-seller",8),e.qZA(),e.TgZ(9,"div",9),e.GkF(10,7),e.qZA()(),e.YNc(11,ue,2,1,"ng-template",null,10,e.W1O),e.qZA()),2&o){const t=n.ngIf,i=e.MAs(12),a=e.oxw();e.xp6(3),e.Q6J("ngIf",a.images.length),e.xp6(1),e.Q6J("ngIf",!a.images.length),e.xp6(2),e.Q6J("ngTemplateOutlet",i),e.xp6(1),e.Q6J("details",t),e.xp6(1),e.Q6J("details",t),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function ge(o,n){1&o&&(e.TgZ(0,"div",15),e._UZ(1,"mat-spinner"),e.qZA())}let me=(()=>{class o{constructor(t,i){this.sharedService=void 0,this.route=void 0,this.details$=void 0,this.images=[],this.imageUrl=ce.y,this.sharedService=t,this.route=i}ngOnInit(){this.details$=this.route.params.pipe((0,C.U)(({id:t})=>t),(0,R.w)(t=>this.sharedService.getOffer(t)),(0,u.b)(t=>{t.picturesNames?.forEach(i=>{const a=this.imageUrl+i;this.images.push(new h.vE({src:a,thumb:a}))})}),(0,C.U)(t=>({...t,user:{...t.user,phoneNumber:(0,le.Q)("Numer telefonu",t.user.phoneNumber)}})))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.F),e.Y36(w.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["pp-offer-single"]],standalone:!0,features:[e.jDz],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"horizontal"],[1,"left","flex"],["class","box","gallerize","",3,"items","counter",4,"ngIf"],["class","box box-center",4,"ngIf"],[1,"hide","flex"],[3,"ngTemplateOutlet"],[1,"box",3,"details"],[1,"right","flex"],["priceDelivery",""],["gallerize","",1,"box",3,"items","counter"],[1,"box","box-center"],["src","https://upload.wikimedia.org/wikipedia/commons/5/55/Brak_obrazka.svg",1,"no-image"],[1,"box"],[1,"center"]],template:function(t,i){if(1&t&&(e.YNc(0,fe,13,6,"div",0),e.ALo(1,"async"),e.YNc(2,ge,2,0,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,i.details$))("ngIfElse",a)}},dependencies:[p.ez,p.O5,p.tP,p.Ov,x.Cq,x.Ou,re,se,h.Uo,h.vY,P.QM,P.b9,q,I],styles:["pp-offer-single .center{width:100%;height:100%;display:flex;justify-content:center;align-items:center}pp-offer-single .box{box-shadow:0 2px 8px #00000029;background-color:#fff;border-radius:8px;padding:16px}pp-offer-single .margin{margin-bottom:8px}pp-offer-single .horizontal{margin-top:16px;display:flex;gap:var(--gap-m)}@media (max-width: 1280px){pp-offer-single .horizontal{flex-direction:column}}pp-offer-single .left{width:100%;max-width:880px}@media (max-width: 1280px){pp-offer-single .left{max-width:unset}}pp-offer-single .right{flex:1}@media (max-width: 1280px){pp-offer-single .right{display:none!important}}pp-offer-single .flex{display:flex;flex-direction:column;gap:var(--gap-xs)}pp-offer-single .hide{display:none}@media (max-width: 1280px){pp-offer-single .hide{display:flex!important}}pp-offer-single .no-image{object-fit:contain;display:flex;margin:0 auto;width:440px;height:266px}pp-offer-single gallery-thumbs .g-slider gallery-thumb gallery-image,pp-offer-single gallery-thumbs .g-slider gallery-thumb img{width:unset!important}\n"],encapsulation:2,changeDetection:0}),o})()}}]);